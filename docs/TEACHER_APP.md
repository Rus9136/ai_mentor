# Teacher App (teacher.ai-mentor.kz)

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É—á–∏—Ç–µ–ª–µ–π ‚Äî –ø–∞–Ω–µ–ª—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —É—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç–∏ —É—á–µ–Ω–∏–∫–æ–≤ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –∫–ª–∞—Å—Å–æ–≤.

**URL:** https://teacher.ai-mentor.kz
**–ü–æ—Ä—Ç:** 3007
**–ü–∞–ø–∫–∞:** `teacher-app/`

---

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
- [–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏](#—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏)
- [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
- [–°—Ç—Ä–∞–Ω–∏—Ü—ã](#—Å—Ç—Ä–∞–Ω–∏—Ü—ã)
- [API Endpoints](#api-endpoints)
- [–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã](#–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)
- [–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è](#–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)
- [Mastery Levels](#mastery-levels)
- [–õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è](#–ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è)
- [–†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ](#—Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ)
- [–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞](#—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞)

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     teacher.ai-mentor.kz                        ‚îÇ
‚îÇ                        (Next.js 15)                             ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Nginx (443)  ‚Üí  Docker (3007)  ‚Üí  Next.js Standalone           ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                 ‚îÇ
‚îÇ   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê        ‚îÇ
‚îÇ   ‚îÇ  Dashboard  ‚îÇ    ‚îÇ   Classes   ‚îÇ    ‚îÇ  Analytics  ‚îÇ        ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò        ‚îÇ
‚îÇ          ‚îÇ                  ‚îÇ                  ‚îÇ                ‚îÇ
‚îÇ          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                ‚îÇ
‚îÇ                             ‚ñº                                   ‚îÇ
‚îÇ                    TanStack Query                               ‚îÇ
‚îÇ                             ‚îÇ                                   ‚îÇ
‚îÇ                             ‚ñº                                   ‚îÇ
‚îÇ                   api.ai-mentor.kz                              ‚îÇ
‚îÇ                   /api/v1/teachers/*                            ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

| –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –í–µ—Ä—Å–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------------|--------|------------|
| Next.js | 15.5 | App Router, SSR, standalone output |
| React | 19.0 | UI –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ |
| TypeScript | 5.7 | –¢–∏–ø–∏–∑–∞—Ü–∏—è |
| Tailwind CSS | 3.4 | –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è |
| TanStack Query | 5.64 | Data fetching, caching |
| Radix UI | - | Tabs, Progress, Dialog, Dropdown |
| next-intl | 4.0 | –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è (RU/KZ) |
| Axios | 1.7 | HTTP –∫–ª–∏–µ–Ω—Ç |
| Zustand | 5.0 | State management |
| Recharts | 2.15 | –ì—Ä–∞—Ñ–∏–∫–∏ |
| lucide-react | - | –ò–∫–æ–Ω–∫–∏ |

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
teacher-app/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ [locale]/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ layout.tsx              # Root layout
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ (auth)/
‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ login/
‚îÇ   ‚îÇ       ‚îÇ       ‚îî‚îÄ‚îÄ page.tsx        # –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ (dashboard)/
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ layout.tsx          # Dashboard layout (sidebar)
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ page.tsx            # –ì–ª–∞–≤–Ω–∞—è (dashboard)
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ classes/
‚îÇ   ‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ page.tsx        # –°–ø–∏—Å–æ–∫ –∫–ª–∞—Å—Å–æ–≤
‚îÇ   ‚îÇ           ‚îÇ   ‚îî‚îÄ‚îÄ [id]/
‚îÇ   ‚îÇ           ‚îÇ       ‚îú‚îÄ‚îÄ page.tsx    # –î–µ—Ç–∞–ª–∏ –∫–ª–∞—Å—Å–∞
‚îÇ   ‚îÇ           ‚îÇ       ‚îî‚îÄ‚îÄ students/
‚îÇ   ‚îÇ           ‚îÇ           ‚îî‚îÄ‚îÄ [sid]/
‚îÇ   ‚îÇ           ‚îÇ               ‚îî‚îÄ‚îÄ page.tsx  # –ü—Ä–æ–≥—Ä–µ—Å—Å —É—á–µ–Ω–∏–∫–∞
‚îÇ   ‚îÇ           ‚îî‚îÄ‚îÄ analytics/
‚îÇ   ‚îÇ               ‚îî‚îÄ‚îÄ page.tsx        # –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dashboard/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ StatCard.tsx            # –ö–∞—Ä—Ç–æ—á–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MasteryBadge.tsx        # –ë–µ–π–¥–∂ —É—Ä–æ–≤–Ω—è A/B/C
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ MasteryDistributionChart.tsx  # Stacked bar chart
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ui/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ button.tsx
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ card.tsx
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ tabs.tsx
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ progress.tsx
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ input.tsx
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ label.tsx
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ alert.tsx
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ client.ts               # Axios instance + interceptors
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.ts                 # Email/Password auth
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ teachers.ts             # Teacher API functions
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ use-teacher-data.ts     # TanStack Query hooks
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ utils.ts                    # cn() utility
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ providers/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth-provider.tsx           # Auth context
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ query-provider.tsx          # TanStack Query provider
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ i18n/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routing.ts                  # Locale routing config
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ request.ts                  # next-intl config
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ messages/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ru/index.json               # –†—É—Å—Å–∫–∏–π
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ kz/index.json               # –ö–∞–∑–∞—Ö—Å–∫–∏–π
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ middleware.ts                   # Locale redirect middleware
‚îÇ
‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îî‚îÄ‚îÄ .gitkeep
‚îÇ
‚îú‚îÄ‚îÄ Dockerfile.prod                     # Production Dockerfile
‚îú‚îÄ‚îÄ next.config.ts
‚îú‚îÄ‚îÄ tailwind.config.ts
‚îú‚îÄ‚îÄ tsconfig.json
‚îî‚îÄ‚îÄ package.json
```

---

## –°—Ç—Ä–∞–Ω–∏—Ü—ã

### 1. Login (`/[locale]/login`)

–°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Ö–æ–¥–∞ –¥–ª—è —É—á–∏—Ç–µ–ª–µ–π.

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         üéì AI Mentor                     ‚îÇ
‚îÇ        Teacher Dashboard                 ‚îÇ
‚îÇ                                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ –í—Ö–æ–¥ –¥–ª—è —É—á–∏—Ç–µ–ª–µ–π                 ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ                                   ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ –í–≤–µ–¥–∏—Ç–µ —É—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ,           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –æ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ —à–∫–æ–ª—ã‚îÇ  ‚îÇ
‚îÇ  ‚îÇ                                   ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ Email: [________________]         ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ –ü–∞—Ä–æ–ª—å: [________________]        ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ                                   ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ        [ –í–æ–π—Ç–∏ ]                  ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- Email/Password –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (–Ω–µ Google OAuth)
- –£—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤—ã–¥–∞—ë—Ç School ADMIN
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–∏: —Ç–æ–ª—å–∫–æ `teacher` –¥–æ–ø—É—Å–∫–∞–µ—Ç—Å—è

### 2. Dashboard (`/[locale]`)

–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –æ–±–∑–æ—Ä–æ–º.

**–û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç:**
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª–∞—Å—Å–æ–≤
- –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–µ–Ω–∏–∫–æ–≤
- –°—Ä–µ–¥–Ω–∏–π –±–∞–ª–ª
- –£—á–µ–Ω–∏–∫–∏, –Ω—É–∂–¥–∞—é—â–∏–µ—Å—è –≤ –ø–æ–º–æ—â–∏ (—É—Ä–æ–≤–µ–Ω—å C)
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —É—Ä–æ–≤–Ω—è–º (A/B/C chart)
- –ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —É—á–µ–Ω–∏–∫–æ–≤

### 3. Classes (`/[locale]/classes`)

–°–ø–∏—Å–æ–∫ –∫–ª–∞—Å—Å–æ–≤ —É—á–∏—Ç–µ–ª—è.

**–ö–∞—Ä—Ç–æ—á–∫–∞ –∫–ª–∞—Å—Å–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç:**
- –ù–∞–∑–≤–∞–Ω–∏–µ –∏ –∫–æ–¥ –∫–ª–∞—Å—Å–∞
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–µ–Ω–∏–∫–æ–≤
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ A/B/C (–≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è)
- –°—Ä–µ–¥–Ω–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å
- –ö–Ω–æ–ø–∫–∞ "–û—Ç–∫—Ä—ã—Ç—å –∫–ª–∞—Å—Å"

### 4. Class Detail (`/[locale]/classes/[id]`)

–î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–ª–∞—Å—Å–µ.

**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–ª–∞—Å—Å–µ
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —É—Ä–æ–≤–Ω—è–º
- –¢–∞–±–ª–∏—Ü–∞ —É—á–µ–Ω–∏–∫–æ–≤:
  - –ò–º—è
  - Mastery Level (–±–µ–π–¥–∂ A/B/C)
  - –ü—Ä–æ–≥—Ä–µ—Å—Å (%)
  - –ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
  - –°—Å—ã–ª–∫–∞ –Ω–∞ –¥–µ—Ç–∞–ª–∏

### 5. Student Progress (`/[locale]/classes/[id]/students/[sid]`)

–î–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å —É—á–µ–Ω–∏–∫–∞.

**Tabs:**
1. **–ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ –≥–ª–∞–≤–∞–º** ‚Äî —Å–ø–∏—Å–æ–∫ –≥–ª–∞–≤ —Å % –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è
2. **–¢–µ—Å—Ç—ã** ‚Äî –ø–æ—Å–ª–µ–¥–Ω–∏–µ –ø–æ–ø—ã—Ç–∫–∏ —Ç–µ—Å—Ç–æ–≤
3. **–ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π** ‚Äî timeline mastery changes

### 6. Analytics (`/[locale]/analytics`)

–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ –≤—Å–µ–º –∫–ª–∞—Å—Å–∞–º.

**–†–∞–∑–¥–µ–ª—ã:**
1. **–°–ª–æ–∂–Ω—ã–µ —Ç–µ–º—ã** ‚Äî –ø–∞—Ä–∞–≥—Ä–∞—Ñ—ã —Å >30% —É—á–µ–Ω–∏–∫–æ–≤ –≤ —É—Ä–æ–≤–Ω–µ C
2. **–¢—Ä–µ–Ω–¥—ã** ‚Äî weekly/monthly –∏–∑–º–µ–Ω–µ–Ω–∏—è mastery –ø–æ –∫–ª–∞—Å—Å–∞–º

---

## API Endpoints

### Backend: `/api/v1/teachers/*`

| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| GET | `/teachers/dashboard` | –û–±–∑–æ—Ä dashboard |
| GET | `/teachers/classes` | –°–ø–∏—Å–æ–∫ –∫–ª–∞—Å—Å–æ–≤ |
| GET | `/teachers/classes/{id}` | –î–µ—Ç–∞–ª–∏ –∫–ª–∞—Å—Å–∞ |
| GET | `/teachers/classes/{id}/overview` | –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∫–ª–∞—Å—Å–∞ |
| GET | `/teachers/classes/{id}/mastery-distribution` | A/B/C —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ |
| GET | `/teachers/classes/{id}/students/{sid}/progress` | –ü—Ä–æ–≥—Ä–µ—Å—Å —É—á–µ–Ω–∏–∫–∞ |
| GET | `/teachers/students/{id}/mastery-history` | –ò—Å—Ç–æ—Ä–∏—è mastery |
| GET | `/teachers/analytics/struggling-topics` | –°–ª–æ–∂–Ω—ã–µ —Ç–µ–º—ã |
| GET | `/teachers/analytics/mastery-trends` | –¢—Ä–µ–Ω–¥—ã (weekly/monthly) |

### Assignments (stubs, –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã)

| –ú–µ—Ç–æ–¥ | Endpoint | –°—Ç–∞—Ç—É—Å |
|-------|----------|--------|
| GET | `/teachers/assignments` | Returns [] |
| POST | `/teachers/assignments` | 501 Not Implemented |
| GET | `/teachers/assignments/{id}` | 404 |
| PUT | `/teachers/assignments/{id}` | 404 |
| DELETE | `/teachers/assignments/{id}` | 404 |

### TypeScript Types

```typescript
// lib/api/teachers.ts

interface MasteryDistribution {
  level_a: number;   // >= 85%
  level_b: number;   // 60-84%
  level_c: number;   // < 60%
  not_started: number;
}

interface TeacherDashboardResponse {
  classes_count: number;
  total_students: number;
  students_by_level: MasteryDistribution;
  average_class_score: number;
  students_needing_help: number;
  recent_activity: RecentActivityItem[];
}

interface TeacherClassResponse {
  id: number;
  name: string;
  code: string;
  grade_level: number;
  academic_year: string;
  students_count: number;
  mastery_distribution: MasteryDistribution;
  average_score: number;
  progress_percentage: number;
}

interface StudentWithMastery {
  id: number;
  student_code: string;
  first_name: string;
  last_name: string;
  mastery_level: 'A' | 'B' | 'C' | null;
  mastery_score: number | null;
  progress_percentage: number;
  last_activity: string | null;
}
```

---

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### StatCard

–ö–∞—Ä—Ç–æ—á–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –Ω–∞ dashboard.

```tsx
<StatCard
  title="–£—á–µ–Ω–∏–∫–æ–≤"
  value={125}
  icon={Users}
  trend={{ value: 5, direction: 'up' }}
/>
```

### MasteryBadge

–ë–µ–π–¥–∂ —É—Ä–æ–≤–Ω—è –≤–ª–∞–¥–µ–Ω–∏—è.

```tsx
<MasteryBadge level="A" />  // –ó–µ–ª—ë–Ω—ã–π
<MasteryBadge level="B" />  // –ñ—ë–ª—Ç—ã–π
<MasteryBadge level="C" />  // –ö—Ä–∞—Å–Ω—ã–π
```

### MasteryDistributionChart

–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π stacked bar chart.

```tsx
<MasteryDistributionChart
  distribution={{
    level_a: 15,
    level_b: 20,
    level_c: 5,
    not_started: 3
  }}
/>
```

---

## –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

### Flow

```
1. School ADMIN —Å–æ–∑–¥–∞—ë—Ç —É—á–∏—Ç–µ–ª—è –≤ Admin Panel
   POST /admin/school/teachers {email, password, name, subject}

2. –£—á–∏—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —É—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç –∞–¥–º–∏–Ω–∞

3. –£—á–∏—Ç–µ–ª—å –∑–∞—Ö–æ–¥–∏—Ç –Ω–∞ teacher.ai-mentor.kz/login

4. –í–≤–æ–¥–∏—Ç email + password

5. POST /auth/login ‚Üí JWT —Ç–æ–∫–µ–Ω

6. Frontend –ø—Ä–æ–≤–µ—Ä—è–µ—Ç role === 'teacher'

7. –î–æ—Å—Ç—É–ø –∫ Teacher Dashboard
```

### Token Storage

```typescript
// –û—Ç–¥–µ–ª—å–Ω—ã–µ –∫–ª—é—á–∏ –æ—Ç student-app
const ACCESS_TOKEN_KEY = 'ai_mentor_teacher_access_token';
const REFRESH_TOKEN_KEY = 'ai_mentor_teacher_refresh_token';
```

### Auto-refresh

API client –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Ç–æ–∫–µ–Ω –ø—Ä–∏ 401 –æ—Ç–≤–µ—Ç–µ:

```typescript
// lib/api/client.ts
apiClient.interceptors.response.use(
  (response) => response,
  async (error) => {
    if (error.response?.status === 401 && !originalRequest._retry) {
      // Refresh token logic
      const response = await axios.post('/auth/refresh', {
        refresh_token: getRefreshToken(),
      });
      setTokens(response.data.access_token, response.data.refresh_token);
      // Retry original request
    }
  }
);
```

---

## Mastery Levels

–°–∏—Å—Ç–µ–º–∞ —É—Ä–æ–≤–Ω–µ–π –≤–ª–∞–¥–µ–Ω–∏—è –º–∞—Ç–µ—Ä–∏–∞–ª–æ–º:

| –£—Ä–æ–≤–µ–Ω—å | –î–∏–∞–ø–∞–∑–æ–Ω | –¶–≤–µ—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|------|----------|
| **A** | >= 85% | –ó–µ–ª—ë–Ω—ã–π | –û—Ç–ª–∏—á–Ω–æ–µ –≤–ª–∞–¥–µ–Ω–∏–µ |
| **B** | 60-84% | –ñ—ë–ª—Ç—ã–π (Amber) | –•–æ—Ä–æ—à–µ–µ –≤–ª–∞–¥–µ–Ω–∏–µ |
| **C** | < 60% | –ö—Ä–∞—Å–Ω—ã–π | –¢—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–º–æ—â—å |
| **-** | 0% | –°–µ—Ä—ã–π | –ù–µ –Ω–∞—á–∞–ª |

### CSS Variables

```css
/* globals.css */
--mastery-a: 142 76% 36%;   /* hsl(142, 76%, 36%) - Green */
--mastery-b: 38 92% 50%;    /* hsl(38, 92%, 50%) - Amber */
--mastery-c: 0 84% 60%;     /* hsl(0, 84%, 60%) - Red */
```

---

## –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —è–∑—ã–∫–∏

- **ru** ‚Äî –†—É—Å—Å–∫–∏–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- **kz** ‚Äî –ö–∞–∑–∞—Ö—Å–∫–∏–π

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
messages/
‚îú‚îÄ‚îÄ ru/index.json
‚îî‚îÄ‚îÄ kz/index.json
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```tsx
import { useTranslations } from 'next-intl';

function MyComponent() {
  const t = useTranslations('dashboard');
  return <h1>{t('welcome')}</h1>;
}
```

### –ö–ª—é—á–µ–≤—ã–µ —Å–µ–∫—Ü–∏–∏

| –°–µ–∫—Ü–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|--------|------------|
| `common` | –û–±—â–∏–µ (loading, error, save, cancel) |
| `navigation` | –ù–∞–≤–∏–≥–∞—Ü–∏—è (dashboard, classes, analytics) |
| `auth` | –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (login, email, password) |
| `dashboard` | Dashboard (welcome, classesCount, etc.) |
| `classes` | –ö–ª–∞—Å—Å—ã (title, students, progress) |
| `student` | –£—á–µ–Ω–∏–∫ (progress, chaptersProgress) |
| `analytics` | –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ (strugglingTopics, trends) |
| `mastery` | –£—Ä–æ–≤–Ω–∏ (levelA, levelB, levelC) |

---

## –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ

### Nginx

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: `nginx/ai-mentor-teacher.conf`

```nginx
upstream teacher_app_nextjs {
    server 127.0.0.1:3007;
    keepalive 64;
}

server {
    listen 443 ssl http2;
    server_name teacher.ai-mentor.kz;

    ssl_certificate /etc/letsencrypt/live/ai-mentor.kz/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/ai-mentor.kz/privkey.pem;

    location / {
        proxy_pass http://teacher_app_nextjs;
        # ... headers
    }
}
```

### Docker

```dockerfile
# Dockerfile.prod
FROM node:20-alpine AS base

# Dependencies
FROM base AS deps
WORKDIR /app
COPY package*.json ./
RUN npm ci

# Builder
FROM base AS builder
WORKDIR /app
COPY --from=deps /app/node_modules ./node_modules
COPY . .
ARG NEXT_PUBLIC_API_URL
ARG NEXT_PUBLIC_GOOGLE_CLIENT_ID
ENV NEXT_PUBLIC_API_URL=$NEXT_PUBLIC_API_URL
ENV NEXT_PUBLIC_GOOGLE_CLIENT_ID=$NEXT_PUBLIC_GOOGLE_CLIENT_ID
RUN npm run build

# Runner
FROM base AS runner
WORKDIR /app
ENV NODE_ENV=production
ENV PORT=3007
COPY --from=builder /app/.next/standalone ./
COPY --from=builder /app/.next/static ./.next/static
COPY --from=builder /app/public ./public

EXPOSE 3007
CMD ["node", "server.js"]
```

### docker-compose.infra.yml

```yaml
teacher-app:
  build:
    context: ./teacher-app
    dockerfile: Dockerfile.prod
    args:
      NEXT_PUBLIC_API_URL: https://api.ai-mentor.kz/api/v1
      NEXT_PUBLIC_GOOGLE_CLIENT_ID: ${GOOGLE_CLIENT_ID}
  container_name: ai_mentor_teacher_app_prod
  restart: unless-stopped
  ports:
    - "127.0.0.1:3007:3007"
  environment:
    - NODE_ENV=production
  networks:
    - ai_mentor_network
```

### –î–µ–ø–ª–æ–π

```bash
# –ü–æ–ª–Ω—ã–π –¥–µ–ø–ª–æ–π (—á–µ—Ä–µ–∑ deploy.sh)
./deploy.sh

# –¢–æ–ª—å–∫–æ teacher-app
docker compose -f docker-compose.infra.yml build teacher-app
docker compose -f docker-compose.infra.yml up -d teacher-app
```

---

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫

```bash
cd teacher-app

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install

# Development server (–ø–æ—Ä—Ç 3005)
npm run dev

# Open: http://localhost:3005/ru
```

### Environment Variables

```env
# .env.local
NEXT_PUBLIC_API_URL=https://api.ai-mentor.kz/api/v1
# –∏–ª–∏ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
# NEXT_PUBLIC_API_URL=http://localhost:8000/api/v1
```

### Build

```bash
npm run build
npm run start  # Production mode –Ω–∞ –ø–æ—Ä—Ç—É 3005
```

### Lint

```bash
npm run lint
```

---

## –¢–µ—Å—Ç–æ–≤—ã–µ —É—á—ë—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏

```
Email: teacher.math@school001.com
Password: teacher123
School: School #7
```

---

## –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| `backend/app/api/v1/teachers.py` | API endpoints (486 —Å—Ç—Ä–æ–∫) |
| `backend/app/services/teacher_analytics_service.py` | –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (480 —Å—Ç—Ä–æ–∫) |
| `backend/app/schemas/teacher_dashboard.py` | Pydantic schemas (400 —Å—Ç—Ä–æ–∫) |
| `nginx/ai-mentor-teacher.conf` | Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è |
| `docker-compose.infra.yml` | Docker compose |

---

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (TODO)

1. **Assignments** ‚Äî –ø–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (—Å–µ–π—á–∞—Å stubs)
2. **Turborepo** ‚Äî shared packages —Å student-app
3. **–¢–µ—Å—Ç—ã** ‚Äî unit/integration tests
4. **Dark mode** ‚Äî —Ç–µ–º–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è
5. **PWA** ‚Äî offline support

---

## –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

| –î–∞—Ç–∞ | –í–µ—Ä—Å–∏—è | –ò–∑–º–µ–Ω–µ–Ω–∏—è |
|------|--------|-----------|
| 2025-12-23 | 1.0.0 | –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (–ò—Ç–µ—Ä–∞—Ü–∏—è 11) |
| 2025-12-23 | 1.0.1 | Google OAuth ‚Üí Email/Password |
